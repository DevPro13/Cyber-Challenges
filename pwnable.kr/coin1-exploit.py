from pwn import *
import re
import time

shell = remote('pwnable.kr',9007)
shell.recv()
time.sleep(3)

while True:
    line = shell.recvS()
    print(line)
    pattern = re.match(r"N=(\d+) C=(\d+)\n",line)
    N, C = int(pattern.group(1)), int(pattern.group(2))
    L, R = 0, N
    for _ in range(C):
        guess = ' '.join([str(i) for i in range(L, (L+R)//2 + 1)])
        shell.sendline(guess)
        data = shell.recvS()
        if (not int(data) % 10):
            L, R = (L+R)//2, R 
        else:
            L, R = L, (L+R)//2
    shell.sendline(str(R))
    shell.recvS()
